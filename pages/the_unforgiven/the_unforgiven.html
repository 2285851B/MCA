<!doctype html>
<html lang="en">
	<head>
		<title>My Music Encoding Project</title>
		<meta charset="utf-8">
		<meta name="description" content="My project">
		<meta name="author" content="Me">
		<link rel="stylesheet" href="../style.css" media="all" />
		<script src="../../js/verovio-toolkit.js"></script>
		<script src="../../js/utils.js"></script>
	</head>
	<body>
		<div id="top">
			<h1>William Bird Music Analytics Project</h1>
		</div>
		<div id="left">
			<table class="head">
				<tr class="head2">
					<td class="head2"><a href='../../index.html'>Home</a></td>
				</tr>
				<tr class="head2">
					<td class="head2"><a href='../about.html'>About</a></td>
				</tr>
			</table>
		</div>
		<div id='content'>
			<div>
				<h2 id="title"></h2>
				<h3 id="artist"></h3>
				<p id="encoded"></p>
			</div>
		<!-- **** DO NO EDIT BELOW THIS LINE **** -->
		<!-- * **** **** **** **** **** **** **** -->
			<div class='fileinfo'>
				<p id="size"></p>
			</div>
			<script>
      var xhr = new XMLHttpRequest()
      xhr.open('GET','data/the_unforgiven.mei') // <!-- change this to the right file -->
      xhr.send(null)

      /* Deal with the response */
      xhr.onreadystatechange = function () {
        var DONE = 4
        var OK = 200
        if (xhr.readyState === DONE) {
          if (xhr.status === OK) {
            var parser = new DOMParser()
            var meiDoc = parser.parseFromString(xhr.responseText,"text/xml")
            /* If your element has an authURI attribute, copy the folloiwng line, being sure to replace the "MY-XML-ID" with your element's actual xml:id.
            document.querySelector("#meta").innerHTML += "<a href=\"" + meiDoc.querySelector("[*|id='MY-XML-ID']").getAttribute('authURI') +"\"><p>" + meiDoc.querySelector("[*|id='MY-XML-ID']").textContent + "</p></a>"
           */
           /* If your element does not have an authURI attribute, copy the following line, being sure to replace the "MY-XML-ID" with your element's actual xml:id.
            document.querySelector("#meta").innerHTML += "<p>" + meiDoc.querySelector("[*|id='m-8']").textContent + "</p>"
            */
			document.querySelector("#title").innerHTML += "<p>" + meiDoc.querySelector("[*|id='title']").textContent + "</p>" ;
			document.querySelector("#artist").innerHTML += "<p>" + meiDoc.querySelector("[*|id='author']").textContent + "</p>" ;
			document.querySelector("#encoded").innerHTML += "<p>" + meiDoc.querySelector("[*|id='encoded']").textContent + "</p>" ;
			document.querySelector("#size").innerHTML += "<p>" + meiDoc.querySelector("[*|id='size']").textContent + "</p>" ;
			document.querySelector("#info").innerHTML += "<p>" + meiDoc.querySelector("[*|id='series-data']").textContent + meiDoc.querySelector("[*|id='pub-location']").textContent + "</p>" ;
          }
        }
      }
			</script>
			<div id="controls">
				<button id="prev"> &lt; </button>
				<button id="next"> &gt; </button>
			</div>
			<div id="score">
				<!-- THIS IS WHERE THE SCORE GOES AUTOMATICALLY -->
			</div>
			<div class='footer'>
				<p id="edition"></p>
				<p id="info"></p>
			</div>
		</div>
		<!-- THIS CALLS THE SCRIPT THAT GETS THE MEI SCORE -->
		<script src="../../js/index/the_unforgiven.js"></script>
	</body>
</html>