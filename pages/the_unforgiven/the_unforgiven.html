<!doctype html>
<html lang="en">
	<head>
		<title>The Unforgiven Notation</title>
		<meta charset="utf-8">
		<meta name="description" content="My project">
		<meta name="author" content="William Bird">
		<link rel="stylesheet" href="../style.css" media="all"/>
		<link href='http://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
		<meta name="viewport" content="initial-scale=1">
		<script src="../../js/verovio-toolkit.js"></script>
		<script src="../../js/utils.js"></script>
	</head>
	<body>
		<h1>William Bird Music Analytics Project</h1>
		<table class="menu" align="center">
			<tr class="menu">
				<td class="menu"><a href="../../index.html"><p>Home</p></a></td>
				<td class="menu"><a href="pages/about.html"><p>About</p></a></td>
			</tr>
		</table>
		<h2>Standard</h2>
		<p>Meta:</p>
		<h3 id="title"></h3>
		<h3 id="artist"></h3>
		<p id="encoded"></p>
		<!-- **** DO NO EDIT BELOW THIS LINE **** -->
		<!-- * **** **** **** **** **** **** **** -->
		<div class='fileinfo'>
			<p id="size"></p>
		</div>
		<br>
		<div id="controls">
			<button id="prev"> &lt; </button>
			<button id="next"> &gt; </button>
		</div>
		<div class='fileinfo'>
			<p id="size"></p>
		</div>
	    <script>
      var xhr = new XMLHttpRequest()
      xhr.open('GET','data/the_unforgiven.mei') // <!-- change this to the right file -->
      xhr.send(null)

      /* Deal with the response */
      xhr.onreadystatechange = function () {
        var DONE = 4
        var OK = 200
        if (xhr.readyState === DONE) {
          if (xhr.status === OK) {
            var parser = new DOMParser()
            var meiDoc = parser.parseFromString(xhr.responseText,"text/xml")
            /* If your element has an authURI attribute, copy the folloiwng line, being sure to replace the "MY-XML-ID" with your element's actual xml:id.
            document.querySelector("#meta").innerHTML += "<a href=\"" + meiDoc.querySelector("[*|id='MY-XML-ID']").getAttribute('authURI') +"\"><p>" + meiDoc.querySelector("[*|id='MY-XML-ID']").textContent + "</p></a>"
           */
           /* If your element does not have an authURI attribute, copy the following line, being sure to replace the "MY-XML-ID" with your element's actual xml:id.
            document.querySelector("#meta").innerHTML += "<p>" + meiDoc.querySelector("[*|id='m-8']").textContent + "</p>"
            */
			document.querySelector("#title").innerHTML += "<p>" + meiDoc.querySelector("[*|id='title']").textContent + "</p>" ;
			document.querySelector("#artist").innerHTML += "<p>" + meiDoc.querySelector("[*|id='author']").textContent + "</p>" ;
			document.querySelector("#encoded").innerHTML += "<p>" + meiDoc.querySelector("[*|id='encoded']").textContent + "</p>" ;
			document.querySelector("#size").innerHTML += "<p>" + meiDoc.querySelector("[*|id='size']").textContent + "</p>" ;
			document.querySelector("#info").innerHTML += "<p>" + meiDoc.querySelector("[*|id='series-data']").textContent + meiDoc.querySelector("[*|id='pub-location']").textContent + "</p>" ;
			document.querySelector("#edition").innerHTML += "<p>" + meiDoc.querySelector("[*|id='edition']").textContent + "</p>" ;
			document.querySelector("#notes").innerHTML += "<p>" + meiDoc.querySelector("[*|id='project-notes']").textContent + "</p>" ;
			document.querySelector("#location").innerHTML += "<p>" + meiDoc.querySelector("[*|id='city']").textContent + meiDoc.querySelector("[*|id='country']").textContent + "</p>" ;
          }
        }
      }
		</script>
		<div id="score">
			<!-- THIS IS WHERE THE SCORE GOES AUTOMATICALLY -->
		</div>
		<div class='footer'>
			<h5>Other Metadata:</h5>
			<p id="edition"></p>
			<p id="info"></p>
			<p id="notes"></p>
			<p id="location"></p>
		</div>
		<!-- THIS CALLS THE SCRIPT THAT GETS THE MEI SCORE -->
		<script src="../../js/index/the_unforgiven.js"></script>
	</body>
</html>