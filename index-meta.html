<!doctype html>
<html lang="en">

  <head>
    <title>My DHSI Music Encoding Project</title>
    <meta charset="utf-8">
    <meta name="description" content="My project">
    <meta name="author" content="Me">
    <link rel="stylesheet" href="css/style.css" media="all" />
    <script src="js/verovio-toolkit.js"></script>
    <script src="js/utils.js"></script>
  </head>

  <body>

    <div id="content">
      <!-- ADD YOUR HTML CONTENT HERE! -->
      <h1>My project</h1>
      <p id="meta"></p>

    </div>

    <!-- **** DO NO EDIT BELOW THIS LINE **** -->
    <!-- * **** **** **** **** **** **** **** -->
    <div id="score">
      <!-- THIS IS WHERE THE SCORE GOES AUTOMATICALLY -->
    </div>
    <!-- THIS CALLS THE SCRIPT THAT GETS THE MEI SCORE -->
<!--    <script src="js/index.js"></script>-->
<script>
var xhttp = new XMLHttpRequest();
xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        myFunction(this);
    }
};
xhttp.open("GET", "data/example.mei", true);
xhttp.send();

function myFunction(xml) {
    var xmlDoc = xml.responseXML;
    document.getElementById("meta").innerHTML =
    xmlDoc.getElementsByTagName("title")[0].childNodes[0].nodeValue;
}
</script>

<!-- <script>
var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange=function() {
  if (this.readyState == 4 && this.status == 200) {
    document.getElementById("meta").innerHTML =
    this.getAllResponseHeaders();
  }
};
xmlhttp.open("GET", "data/example.mei", true);
xmlhttp.send();
</script> -->
<!-- <script>
var xhr = new XMLHttpRequest()
xhr.open('GET', 'data/example.mei') /* change this to the right file */
xhr.send(null)

/* Deal with the response */
xhr.onreadystatechange = function () {
  var DONE = 4
  var OK = 200
  if (xhr.readyState === DONE) {
    if (xhr.status === OK) {
      // Get performance data
      var parser = new DOMParser()
      var meiDoc = parser.parseFromString(xhr.responseText,"text/xml")

      var recording = meiDoc.querySelector('title')
      var avFile = recording.querySelector('avFile[targettype="youtube"]').getAttribute('target')
      var clipEls = recording.querySelectorAll('clip')

      document.getElementById("meta").innerHTML =
      recording
    else {
        /* Tell us an error happened */
        console.log('Error: ' + xhr.status)
      }
    }
  }

</script>-->
  </body>

</html>
